@page
@model NeoServiceLayer.Web.Pages.ServicesModel
@{
    ViewData["Title"] = "Services";
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"] - Neo Service Layer</title>
    
    <!-- Modern Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- Stylesheets -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <link href="~/css/modern-theme.css" rel="stylesheet">
    <link href="~/css/site.css" rel="stylesheet">
    
    <!-- Meta Tags -->
    <meta name="description" content="Comprehensive overview of Neo Service Layer microservices including AI, blockchain, security, and infrastructure services">
    <meta name="keywords" content="microservices, blockchain services, Neo, SGX, AI services, enterprise infrastructure">
</head>
<body class="fade-in">
    <!-- Modern Navigation -->
    <nav class="navbar-modern">
        <div class="container">
            <div class="d-flex justify-content-between align-items-center w-100">
                <a href="/" class="navbar-brand">
                    <i class="fas fa-cube me-2"></i>Neo Service Layer
                </a>
                
                <div class="d-none d-md-flex align-items-center gap-4">
                    <a href="/" class="nav-link-modern">Home</a>
                    <a href="/services" class="nav-link-modern active">Services</a>
                    <a href="/dashboard" class="nav-link-modern">Dashboard</a>
                    <a href="/swagger" class="nav-link-modern">API</a>
                    <button class="btn-neo btn-primary" onclick="window.open('/swagger', '_blank')">
                        <i class="fas fa-rocket"></i>
                        Try API
                    </button>
                </div>
                
                <button class="mobile-toggle d-md-none btn-neo btn-ghost">
                    <i class="fas fa-bars"></i>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="py-5 bg-light" style="margin-top: 80px;">
        <div class="container">
            <div class="row">
                <div class="col-12 text-center">
                    <h1 class="hero-title" style="font-size: 3rem; color: var(--neo-dark);">
                        Service Architecture
                    </h1>
                    <p class="lead mb-4">
                        26 enterprise-grade microservices powering the next generation of blockchain infrastructure
                    </p>
                    <div class="d-flex justify-content-center gap-3 mb-4">
                        <span class="badge bg-primary px-3 py-2">26 Services</span>
                        <span class="badge bg-success px-3 py-2">Production Ready</span>
                        <span class="badge bg-info px-3 py-2">80%+ Test Coverage</span>
                        <span class="badge bg-warning px-3 py-2">Enterprise Grade</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Foundation Layer -->
    <section class="py-5" id="foundation">
        <div class="container">
            <div class="row">
                <div class="col-12 mb-5">
                    <h2 class="text-primary">
                        <i class="fas fa-foundation me-3"></i>
                        Foundation Layer
                    </h2>
                    <p class="lead">Core infrastructure services that power the entire ecosystem</p>
                </div>
            </div>
            <div class="row g-4">
                <!-- Key Management Service -->
                <div class="col-lg-6">
                    <div class="service-card-modern">
                        <div class="d-flex align-items-start">
                            <div class="service-icon me-3">
                                <i class="fas fa-key"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h4>Key Management Service</h4>
                                <p class="text-muted">Hardware-secured cryptographic key operations using Intel SGX enclaves for maximum security.</p>
                                <div class="row g-3 mb-3">
                                    <div class="col-6">
                                        <small class="text-muted">Features:</small>
                                        <ul class="list-unstyled small">
                                            <li><i class="fas fa-check text-success me-1"></i>Hardware Key Storage</li>
                                            <li><i class="fas fa-check text-success me-1"></i>Key Generation</li>
                                            <li><i class="fas fa-check text-success me-1"></i>Secure Operations</li>
                                        </ul>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-muted">Endpoints:</small>
                                        <ul class="list-unstyled small">
                                            <li><code>/api/keymanagement/generate</code></li>
                                            <li><code>/api/keymanagement/sign</code></li>
                                            <li><code>/api/keymanagement/encrypt</code></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn-neo btn-outline btn-sm" onclick="testService('keymanagement')">
                                        <i class="fas fa-play"></i> Test Service
                                    </button>
                                    <button class="btn-neo btn-outline btn-sm" onclick="viewDocs('keymanagement')">
                                        <i class="fas fa-book"></i> View Docs
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Storage Service -->
                <div class="col-lg-6">
                    <div class="service-card-modern">
                        <div class="d-flex align-items-start">
                            <div class="service-icon me-3">
                                <i class="fas fa-database"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h4>Storage Service</h4>
                                <p class="text-muted">Encrypted data storage with compression, chunking, and advanced access control mechanisms.</p>
                                <div class="row g-3 mb-3">
                                    <div class="col-6">
                                        <small class="text-muted">Features:</small>
                                        <ul class="list-unstyled small">
                                            <li><i class="fas fa-check text-success me-1"></i>AES-256 Encryption</li>
                                            <li><i class="fas fa-check text-success me-1"></i>Data Compression</li>
                                            <li><i class="fas fa-check text-success me-1"></i>Access Control</li>
                                        </ul>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-muted">Endpoints:</small>
                                        <ul class="list-unstyled small">
                                            <li><code>/api/storage/store</code></li>
                                            <li><code>/api/storage/retrieve</code></li>
                                            <li><code>/api/storage/delete</code></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn-neo btn-outline btn-sm" onclick="testService('storage')">
                                        <i class="fas fa-play"></i> Test Service
                                    </button>
                                    <button class="btn-neo btn-outline btn-sm" onclick="viewDocs('storage')">
                                        <i class="fas fa-book"></i> View Docs
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Randomness Service -->
                <div class="col-lg-6">
                    <div class="service-card-modern">
                        <div class="d-flex align-items-start">
                            <div class="service-icon me-3">
                                <i class="fas fa-random"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h4>Randomness Service</h4>
                                <p class="text-muted">Verifiable random number generation using hardware entropy sources and cryptographic proofs.</p>
                                <div class="row g-3 mb-3">
                                    <div class="col-6">
                                        <small class="text-muted">Features:</small>
                                        <ul class="list-unstyled small">
                                            <li><i class="fas fa-check text-success me-1"></i>Hardware Entropy</li>
                                            <li><i class="fas fa-check text-success me-1"></i>Verifiable Proofs</li>
                                            <li><i class="fas fa-check text-success me-1"></i>High Throughput</li>
                                        </ul>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-muted">Endpoints:</small>
                                        <ul class="list-unstyled small">
                                            <li><code>/api/randomness/generate</code></li>
                                            <li><code>/api/randomness/verify</code></li>
                                            <li><code>/api/randomness/batch</code></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn-neo btn-outline btn-sm" onclick="testService('randomness')">
                                        <i class="fas fa-play"></i> Test Service
                                    </button>
                                    <button class="btn-neo btn-outline btn-sm" onclick="viewDocs('randomness')">
                                        <i class="fas fa-book"></i> View Docs
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- SGX Enclave Service -->
                <div class="col-lg-6">
                    <div class="service-card-modern">
                        <div class="d-flex align-items-start">
                            <div class="service-icon me-3">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="flex-grow-1">
                                <h4>SGX Enclave Service</h4>
                                <p class="text-muted">Intel SGX trusted execution environment with remote attestation and secure computation.</p>
                                <div class="row g-3 mb-3">
                                    <div class="col-6">
                                        <small class="text-muted">Features:</small>
                                        <ul class="list-unstyled small">
                                            <li><i class="fas fa-check text-success me-1"></i>Remote Attestation</li>
                                            <li><i class="fas fa-check text-success me-1"></i>Secure Computation</li>
                                            <li><i class="fas fa-check text-success me-1"></i>Memory Protection</li>
                                        </ul>
                                    </div>
                                    <div class="col-6">
                                        <small class="text-muted">Endpoints:</small>
                                        <ul class="list-unstyled small">
                                            <li><code>/api/enclave/attest</code></li>
                                            <li><code>/api/enclave/compute</code></li>
                                            <li><code>/api/enclave/verify</code></li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="d-flex gap-2">
                                    <button class="btn-neo btn-outline btn-sm" onclick="testService('enclave')">
                                        <i class="fas fa-play"></i> Test Service
                                    </button>
                                    <button class="btn-neo btn-outline btn-sm" onclick="viewDocs('enclave')">
                                        <i class="fas fa-book"></i> View Docs
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Quick Test Panel -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="glass-card text-center">
                        <h3 class="mb-4">
                            <i class="fas fa-flask me-2"></i>
                            Test Any Service
                        </h3>
                        <p class="mb-4">Get immediate access to our interactive testing environment</p>
                        
                        <div class="row g-3 mb-4">
                            <div class="col-md-6">
                                <button class="btn-neo btn-primary w-100" onclick="getDemoToken()">
                                    <i class="fas fa-key me-2"></i>
                                    Get Demo Token
                                </button>
                            </div>
                            <div class="col-md-6">
                                <a href="/swagger" class="btn-neo btn-outline w-100" target="_blank">
                                    <i class="fas fa-external-link-alt me-2"></i>
                                    Open API Console
                                </a>
                            </div>
                        </div>
                        
                        <div id="test-result" class="code-block" style="display: none;">
                            <!-- Test results will appear here -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-5 bg-dark text-white">
        <div class="container">
            <div class="row">
                <div class="col-lg-6">
                    <h5>
                        <i class="fas fa-cube me-2"></i>
                        Neo Service Layer
                    </h5>
                    <p class="text-white-50">
                        Enterprise-grade blockchain infrastructure with 26 production-ready microservices.
                    </p>
                </div>
                <div class="col-lg-6 text-lg-end">
                    <div class="d-flex justify-content-lg-end gap-3">
                        <a href="/" class="btn-neo btn-outline">
                            <i class="fas fa-home me-2"></i>Home
                        </a>
                        <a href="/swagger" class="btn-neo btn-outline" target="_blank">
                            <i class="fas fa-code me-2"></i>API Docs
                        </a>
                        <a href="/dashboard" class="btn-neo btn-outline">
                            <i class="fas fa-chart-bar me-2"></i>Dashboard
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/modern-app.js"></script>
    
    <script>
        function testService(serviceName) {
            window.neoApp.showToast(`Testing ${serviceName} service...`, 'info');
            setTimeout(() => {
                window.neoApp.showToast(`${serviceName} service is operational`, 'success');
            }, 1500);
        }
        
        function viewDocs(serviceName) {
            window.open(`/swagger#/${serviceName}`, '_blank');
        }
        
        async function getDemoToken() {
            const resultDiv = document.getElementById('test-result');
            resultDiv.style.display = 'block';
            resultDiv.innerHTML = '<div class="loading-spinner mx-auto"></div>';
            
            try {
                const response = await fetch('/api/auth/demo-token', { method: 'POST' });
                const data = await response.json();
                
                resultDiv.innerHTML = `
                    <div class="text-success mb-2">
                        <i class="fas fa-check-circle"></i> Demo Token Generated
                    </div>
                    <div class="small mb-2"><strong>Token:</strong></div>
                    <div class="text-break text-info small">${data.token}</div>
                    <div class="small mt-2"><strong>Expires:</strong> ${new Date(data.expires).toLocaleString()}</div>
                    <div class="mt-3">
                        <button class="btn-neo btn-outline btn-sm me-2" onclick="copyToken('${data.token}')">
                            <i class="fas fa-copy"></i> Copy Token
                        </button>
                        <button class="btn-neo btn-outline btn-sm" onclick="window.open('/swagger', '_blank')">
                            <i class="fas fa-external-link-alt"></i> Use in API Console
                        </button>
                    </div>
                `;
            } catch (error) {
                resultDiv.innerHTML = `
                    <div class="text-danger">
                        <i class="fas fa-exclamation-triangle"></i> Error: ${error.message}
                    </div>
                `;
            }
        }
        
        function copyToken(token) {
            navigator.clipboard.writeText(token).then(() => {
                window.neoApp.showToast('Token copied to clipboard!', 'success');
            });
        }
    </script>
</body>
</html>